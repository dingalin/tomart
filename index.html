<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tom Art Studio - עבודות עץ ואפוקסי | שולחנות, מזוזות ואומנות בעץ</title>
    <meta name="description"
        content="סטודיו לאומנות בעץ ואפוקסי. שולחנות נהר, מזוזות מעוצבות, שעונים ויצירות אומנות ייחודיות בעבודת יד. עיצוב אישי בהזמנה.">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&family=Playfair+Display:wght@400;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <header>
        <div id="admin-login-container" class="header-admin">
            <button id="admin-login-btn" aria-label="כניסת מנהל"><i class="fa-solid fa-user-lock"></i></button>
        </div>
        <div class="header-content">
            <div class="logo-container">
                <img src="logo.png" alt="Tom Art Studio Logo" class="logo-img">
            </div>
            <h1>Tom Art Studio</h1>
            <p class="subtitle">אומנות בעץ ואפוקסי</p>
        </div>
    </header>

    <main>
        <div id="admin-controls" class="admin-controls hidden">
            <button id="add-image-btn" class="primary-btn"><i class="fa-solid fa-plus"></i> הוסף יצירה חדשה</button>
            <button id="manage-folders-btn" class="secondary-btn"><i class="fa-solid fa-folder"></i> ניהול
                תיקיות</button>
            <button id="change-bg-btn" class="secondary-btn"><i class="fa-solid fa-palette"></i> שנה רקע</button>
            <button id="admin-logout-btn" class="danger-btn"><i class="fa-solid fa-right-from-bracket"></i>
                יציאה</button>
        </div>

        <div id="folder-filters" class="folder-filters">
            <!-- Folder buttons will be injected here -->
        </div>

        <div id="gallery-grid" class="gallery-grid">
            <!-- Images will be loaded here -->
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Tom Art Studio. כל הזכויות שמורות.</p>
        <div class="social-links">
            <a href="https://www.instagram.com/tom_art_studio" target="_blank" aria-label="Instagram"><i
                    class="fa-brands fa-instagram"></i></a>
            <a href="https://www.facebook.com/profile.php?id=100088292465836" target="_blank" aria-label="Facebook"><i
                    class="fa-brands fa-facebook"></i></a>
            <a href="https://wa.me/972547896115" target="_blank" aria-label="WhatsApp"><i
                    class="fa-brands fa-whatsapp"></i></a>
        </div>
    </footer>

    <!-- Modals -->
    <div id="login-modal" class="modal hidden" role="dialog" aria-labelledby="login-title">
        <div class="modal-content glass-panel">
            <span class="close-modal">&times;</span>
            <h2 id="login-title">כניסת מנהל</h2>
            <input type="password" id="password-input" placeholder="סיסמה" aria-label="סיסמה">
            <button id="login-submit-btn" class="primary-btn">התחבר</button>
            <p id="login-error" class="error-msg hidden">סיסמה שגויה</p>
        </div>
    </div>

    <div id="image-modal" class="modal hidden" role="dialog" aria-labelledby="modal-title">
        <div class="modal-content glass-panel wide-modal">
            <span class="close-modal">&times;</span>
            <h2 id="modal-title">הוספת/עריכת תמונה</h2>

            <div class="image-editor-container">
                <div class="editor-controls">
                    <button id="editor-prev-btn" class="editor-nav-btn" aria-label="תמונה קודמת"><i
                            class="fa-solid fa-chevron-right"></i></button>

                    <div class="editor-image-display">
                        <div id="editor-current-image">
                            <!-- Current image shown here -->
                            <div class="placeholder-text">אין תמונות. לחץ על "הוסף תמונות" כדי להתחיל.</div>
                        </div>
                    </div>

                    <button id="editor-next-btn" class="editor-nav-btn" aria-label="תמונה הבאה"><i
                            class="fa-solid fa-chevron-left"></i></button>
                </div>

                <div class="editor-details">
                    <div class="editor-counter" id="editor-counter">0 / 0</div>

                    <div class="file-upload-section">
                        <label for="image-upload" class="file-upload-label-small">
                            <i class="fa-solid fa-plus"></i> הוסף תמונות
                        </label>
                        <input type="file" id="image-upload" accept="image/*" multiple hidden>
                    </div>

                    <div class="form-group">
                        <label for="image-specific-description">תיאור לתמונה זו:</label>
                        <textarea id="image-specific-description"
                            placeholder="תיאור ספציפי לתמונה זו (אופציונלי)"></textarea>
                    </div>

                    <div class="editor-actions">
                        <button id="delete-current-image-btn" class="danger-btn-small" disabled>
                            <i class="fa-solid fa-trash"></i> מחק תמונה זו
                        </button>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <input type="text" id="title-input" placeholder="כותרת היצירה" aria-label="כותרת היצירה">
            </div>
            <div class="form-group">
                <input type="number" id="price-input" placeholder="מחיר (בשקלים)" aria-label="מחיר">
            </div>
            <div class="form-group">
                <textarea id="description-input" placeholder="תיאור כללי ליצירה" aria-label="תיאור כללי"></textarea>
            </div>
            <div class="form-group">
                <select id="folder-select" aria-label="בחר תיקייה">
                    <option value="">ללא תיקייה</option>
                </select>
            </div>
            <div class="modal-actions">
                <button id="save-image-btn" class="primary-btn">שמור</button>
                <button id="delete-image-btn" class="danger-btn hidden">מחק יצירה כולה</button>
            </div>
        </div>
    </div>

    <div id="folder-modal" class="modal hidden" role="dialog" aria-labelledby="folder-title">
        <div class="modal-content glass-panel">
            <span class="close-modal">&times;</span>
            <h2 id="folder-title">ניהול תיקיות</h2>
            <div id="folder-list" class="folder-list">
                <!-- Folders loaded here -->
            </div>

            <div class="add-folder-section">
                <input type="text" id="new-folder-input" placeholder="שם תיקייה חדשה" aria-label="שם תיקייה חדשה">
                <button id="add-folder-btn" class="primary-btn">
                    <i class="fa-solid fa-plus"></i> הוסף תיקייה
                </button>
            </div>
        </div>
    </div>

    <div id="background-modal" class="modal hidden" role="dialog" aria-labelledby="bg-modal-title">
        <div class="modal-content glass-panel">
            <span class="close-modal">&times;</span>
            <h2 id="bg-modal-title">עיצוב רקע האתר</h2>

            <div class="bg-section">
                <h3>בחר רקע מוכן</h3>
                <div class="gradient-grid">
                    <div class="gradient-swatch bg-gradient-default" data-bg="default" title="ברירת מחדל"></div>
                    <div class="gradient-swatch bg-gradient-1" data-bg="bg-gradient-1" title="זהב יוקרתי"></div>
                    <div class="gradient-swatch bg-gradient-2" data-bg="bg-gradient-2" title="יער עמוק"></div>
                    <div class="gradient-swatch bg-gradient-3" data-bg="bg-gradient-3" title="לילה סגול"></div>
                    <div class="gradient-swatch bg-gradient-4" data-bg="bg-gradient-4" title="שקיעה"></div>
                </div>
            </div>

            <div class="bg-section">
                <h3>או העלה תמונה אישית</h3>
                <div class="file-upload-section">
                    <label for="bg-image-upload" class="file-upload-label-small">
                        <i class="fa-solid fa-cloud-arrow-up"></i> בחר תמונה
                    </label>
                    <input type="file" id="bg-image-upload" accept="image/*" hidden>
                </div>
                <div id="bg-preview-container" class="hidden">
                    <p>תצוגה מקדימה:</p>
                    <img id="bg-preview-img" src="" alt="Background Preview">
                </div>
            </div>

            <div class="bg-section">
                <h3>צבע טקסט</h3>
                <div class="text-color-toggle" style="display: flex; gap: 15px; color: var(--text-secondary);">
                    <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <input type="radio" name="text-color" value="light" checked>
                        בהיר (ברירת מחדל)
                    </label>
                    <label style="cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <input type="radio" name="text-color" value="dark">
                        כהה (לרקעים בהירים)
                    </label>
                </div>
            </div>

            <div class="modal-actions">
                <button id="save-bg-btn" class="primary-btn">שמור שינויים</button>
                <button id="reset-bg-btn" class="danger-btn">אפס לברירת מחדל</button>
            </div>
        </div>
    </div>

    <!-- WhatsApp Confirmation Modal -->
    <div id="whatsapp-modal" class="modal hidden" role="dialog" aria-labelledby="whatsapp-title">
        <div class="modal-content glass-panel">
            <span class="close-modal">&times;</span>
            <h2 id="whatsapp-title">שליחת הודעה</h2>
            <p>האם אתה מעוניין לשלוח הודעת ווצאפ למוכר בקשר למוצר זה?</p>
            <div class="modal-actions">
                <button id="whatsapp-yes-btn" class="primary-btn whatsapp-btn">כן, שלח הודעה <i
                        class="fa-brands fa-whatsapp"></i></button>
                <button id="whatsapp-no-btn" class="danger-btn">לא, תודה</button>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox-modal" class="modal hidden lightbox-modal" role="dialog" aria-label="תצוגת תמונה מלאה">
        <span class="close-modal lightbox-close" aria-label="סגור">&times;</span>

        <button id="lightbox-prev" class="lightbox-nav prev-btn" aria-label="הקודם">
            <i class="fa-solid fa-chevron-right"></i>
        </button>

        <div class="lightbox-content">
            <img id="lightbox-image" src="" alt="תמונה בגודל מלא">
            <div id="lightbox-counter" class="lightbox-counter"></div>
            <div id="lightbox-description" class="lightbox-description"></div>
        </div>

        <button id="lightbox-next" class="lightbox-nav next-btn" aria-label="הבא">
            <i class="fa-solid fa-chevron-left"></i>
        </button>

    </div>
    </div>

    <!-- Firebase Compat SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <script src="script.js"></script>
</body>

</html>